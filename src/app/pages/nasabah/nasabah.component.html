<div class="dashboard-container">
    <div class="dashboard-header">
      <div class="header-content">
        <div class="header-content-left">
          <button class="hamburger-button" (click)="toggleSidenav()">â˜°</button>
          <span class="topbank-header">Topbank</span>
        </div>
        <div class="header-right">
            <img src="../../../assets/placeholder.png" alt="profile-img">
            <div class="profile-dropdown" *ngIf="isUserLoggedIn">
                <div class="drop-down" (click)="toggleDropdown()">
                    <span class="user-name">{{ adminUsername() }}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path opacity="0.9" d="M16 10L12 14L8 10" stroke="#333333" stroke-width="2" stroke-linecap="round"/>
                      </svg>
                </div>
                <div *ngIf="isDropdownOpen" class="dropdown-content">
                    <div class="drop-down-item" (click)="logout()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16" fill="none">
                            <path d="M13.1517 5.33333L12.1385 6.27333L13.2738 7.33333H7.40317V8.66667H13.2738L12.1385 9.72L13.1517 10.6667L16.0259 8L13.1517 5.33333ZM4.52892 3.33333H9.55886V2H4.52892C3.7385 2 3.0918 2.6 3.0918 3.33333V12.6667C3.0918 13.4 3.7385 14 4.52892 14H9.55886V12.6667H4.52892V3.33333Z" fill="#EB5757"/>
                        </svg>
                        <span>Keluar</span>
                    </div>
                </div>
                <p class="admin-role">Super Admin</p>
            </div>
        </div>
      </div>
    </div>
  
    <div class="main">
      <div class="sidenav" [ngClass]="{'sidenav-closed': !sidenavOpened}">
        <ul>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path d="M13.3333 1.33328H2.66659C2.31296 1.33328 1.97382 1.47376 1.72378 1.72381C1.47373 1.97386 1.33325 2.31299 1.33325 2.66662V13.3333C1.33325 13.6869 1.47373 14.026 1.72378 14.2761C1.97382 14.5261 2.31296 14.6666 2.66659 14.6666H13.3333C13.6869 14.6666 14.026 14.5261 14.2761 14.2761C14.5261 14.026 14.6666 13.6869 14.6666 13.3333V2.66662C14.6666 2.31299 14.5261 1.97386 14.2761 1.72381C14.026 1.47376 13.6869 1.33328 13.3333 1.33328ZM11.9999 11.9999H3.99992V3.99995H11.9999V11.9999Z" fill="#BFBFBF"/>
            <path d="M29.3333 1.33328H18.6666C18.313 1.33328 17.9738 1.47376 17.7238 1.72381C17.4737 1.97386 17.3333 2.31299 17.3333 2.66662V13.3333C17.3333 13.6869 17.4737 14.026 17.7238 14.2761C17.9738 14.5261 18.313 14.6666 18.6666 14.6666H29.3333C29.6869 14.6666 30.026 14.5261 30.2761 14.2761C30.5261 14.026 30.6666 13.6869 30.6666 13.3333V2.66662C30.6666 2.31299 30.5261 1.97386 30.2761 1.72381C30.026 1.47376 29.6869 1.33328 29.3333 1.33328ZM27.9999 11.9999H19.9999V3.99995H27.9999V11.9999Z" fill="#BFBFBF"/>
            <path d="M13.3333 17.3333H2.66659C2.31296 17.3333 1.97382 17.4738 1.72378 17.7238C1.47373 17.9739 1.33325 18.313 1.33325 18.6666V29.3333C1.33325 29.6869 1.47373 30.0261 1.72378 30.2761C1.97382 30.5262 2.31296 30.6666 2.66659 30.6666H13.3333C13.6869 30.6666 14.026 30.5262 14.2761 30.2761C14.5261 30.0261 14.6666 29.6869 14.6666 29.3333V18.6666C14.6666 18.313 14.5261 17.9739 14.2761 17.7238C14.026 17.4738 13.6869 17.3333 13.3333 17.3333ZM11.9999 28H3.99992V20H11.9999V28Z" fill="#BFBFBF"/>
            <path d="M29.3333 17.3333H18.6666C18.313 17.3333 17.9738 17.4738 17.7238 17.7238C17.4737 17.9739 17.3333 18.313 17.3333 18.6666V29.3333C17.3333 29.6869 17.4737 30.0261 17.7238 30.2761C17.9738 30.5262 18.313 30.6666 18.6666 30.6666H29.3333C29.6869 30.6666 30.026 30.5262 30.2761 30.2761C30.5261 30.0261 30.6666 29.6869 30.6666 29.3333V18.6666C30.6666 18.313 30.5261 17.9739 30.2761 17.7238C30.026 17.4738 29.6869 17.3333 29.3333 17.3333ZM27.9999 28H19.9999V20H27.9999V28Z" fill="#BFBFBF"/>
            </svg><a routerLink="/dashboard">Dashboard</a>
          </li>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path d="M10.667 16C12.0815 16 13.438 15.4381 14.4382 14.4379C15.4384 13.4377 16.0003 12.0812 16.0003 10.6667C16.0003 9.25219 15.4384 7.89563 14.4382 6.89544C13.438 5.89525 12.0815 5.33334 10.667 5.33334C9.2525 5.33334 7.89595 5.89525 6.89576 6.89544C5.89556 7.89563 5.33366 9.25219 5.33366 10.6667C5.33366 12.0812 5.89556 13.4377 6.89576 14.4379C7.89595 15.4381 9.2525 16 10.667 16ZM22.667 16C23.7279 16 24.7453 15.5786 25.4954 14.8284C26.2456 14.0783 26.667 13.0609 26.667 12C26.667 10.9391 26.2456 9.92173 25.4954 9.17158C24.7453 8.42144 23.7279 8.00001 22.667 8.00001C21.6061 8.00001 20.5887 8.42144 19.8386 9.17158C19.0884 9.92173 18.667 10.9391 18.667 12C18.667 13.0609 19.0884 14.0783 19.8386 14.8284C20.5887 15.5786 21.6061 16 22.667 16ZM6.00033 18.6667C4.16033 18.6667 2.66699 20.16 2.66699 22C2.66699 22 2.66699 28 10.667 28C17.0083 28 18.323 24.2293 18.595 22.6667C18.667 22.2587 18.667 22 18.667 22C18.667 20.16 17.1737 18.6667 15.3337 18.6667H6.00033ZM21.323 22.9333C21.2923 23.4168 21.2119 23.8957 21.083 24.3627C20.915 24.9573 20.6377 25.6693 20.171 26.4027C20.9892 26.586 21.8258 26.6746 22.6643 26.6667C29.331 26.6667 29.331 22 29.331 22C29.331 20.16 27.8377 18.6667 25.9977 18.6667H20.3203C20.9603 19.6213 21.331 20.7653 21.331 22V22.6667L21.323 22.9333Z" fill="#BFBFBF"/>
            </svg><a routerLink="/list-nasabah">List Nasabah</a>
          </li>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <g clip-path="url(#clip0_908_2620)">
                <path d="M13.0404 12.7111C15.9859 12.7111 18.3737 10.3233 18.3737 7.37777C18.3737 4.43225 15.9859 2.04443 13.0404 2.04443C10.0948 2.04443 7.70703 4.43225 7.70703 7.37777C7.70703 10.3233 10.0948 12.7111 13.0404 12.7111Z" fill="#BFBFBF"/>
                <path d="M14.6129 28.2844C14.3192 27.9939 14.1275 27.616 14.0666 27.2073C14.0057 26.7987 14.0788 26.3813 14.2751 26.0178L14.7462 25.1289L13.7773 24.8355C13.3822 24.7119 13.0383 24.4627 12.7976 24.1258C12.557 23.7889 12.4328 23.3827 12.444 22.9689V21.1467C12.4433 20.7346 12.5751 20.3333 12.82 20.0019C13.0649 19.6706 13.4099 19.4268 13.804 19.3067L14.7729 19.0133L14.3107 18.1244C14.1202 17.7658 14.0477 17.3563 14.1035 16.9541C14.1594 16.5518 14.3408 16.1775 14.6218 15.8844C13.9379 15.7948 13.2492 15.7473 12.5596 15.7422C10.5225 15.6943 8.49999 16.0964 6.63622 16.92C4.77246 17.7435 3.11339 18.9682 1.77734 20.5067V27.3955C1.77734 27.6313 1.87099 27.8574 2.03769 28.0241C2.20439 28.1908 2.43048 28.2844 2.66623 28.2844H14.6129Z" fill="#BFBFBF"/>
                <path d="M29.9547 20.8533L28.1769 20.32C28.0537 19.881 27.8808 19.4575 27.6614 19.0578L28.5503 17.4044C28.5846 17.3431 28.5972 17.2719 28.5859 17.2025C28.5746 17.1331 28.5401 17.0695 28.488 17.0222L27.1991 15.7244C27.1495 15.6761 27.0862 15.6442 27.0178 15.6331C26.9495 15.622 26.8793 15.6321 26.8169 15.6622L25.1725 16.5511C24.7677 16.3312 24.3419 16.1525 23.9014 16.0178L23.3591 14.24C23.3353 14.1744 23.2917 14.1179 23.2344 14.0781C23.1771 14.0383 23.1089 14.0172 23.0391 14.0178H21.1903C21.1209 14.0197 21.0539 14.0429 20.9983 14.0843C20.9426 14.1256 20.901 14.1831 20.8791 14.2489L20.3458 16.0267C19.8968 16.1573 19.4643 16.3392 19.0569 16.5689L17.448 15.68C17.3855 15.6467 17.3141 15.634 17.2439 15.6436C17.1737 15.6532 17.1083 15.6845 17.0569 15.7333L15.7503 17.0133C15.6988 17.0629 15.6649 17.1279 15.6537 17.1985C15.6425 17.269 15.6545 17.3413 15.688 17.4044L16.5769 19.0222C16.3388 19.4237 16.1451 19.8499 15.9991 20.2933L14.2214 20.8355C14.1541 20.855 14.0951 20.8959 14.0534 20.9521C14.0116 21.0083 13.9894 21.0767 13.9903 21.1467V22.9689C13.9894 23.0389 14.0116 23.1072 14.0534 23.1634C14.0951 23.2196 14.1541 23.2606 14.2214 23.28L15.9991 23.8222C16.1324 24.2576 16.3112 24.6777 16.5325 25.0755L15.6436 26.7644C15.6101 26.8275 15.598 26.8998 15.6092 26.9704C15.6205 27.041 15.6544 27.106 15.7058 27.1555L17.0303 28.4444C17.0816 28.4932 17.147 28.5246 17.2172 28.5342C17.2874 28.5437 17.3588 28.531 17.4214 28.4978L19.0836 27.6089C19.4792 27.8216 19.8963 27.9915 20.328 28.1155L20.8614 29.9378C20.8837 30.005 20.9267 30.0635 20.9841 30.1049C21.0415 30.1464 21.1105 30.1688 21.1814 30.1689H23.0036C23.0729 30.1669 23.1399 30.1437 23.1956 30.1024C23.2512 30.061 23.2928 30.0036 23.3147 29.9378L23.848 28.1155C24.2746 27.993 24.686 27.8231 25.0747 27.6089L26.7547 28.4978C26.8173 28.531 26.8887 28.5437 26.9589 28.5342C27.029 28.5246 27.0944 28.4932 27.1458 28.4444L28.4436 27.1555C28.4924 27.1042 28.5238 27.0388 28.5333 26.9686C28.5429 26.8984 28.5302 26.827 28.4969 26.7644L27.608 25.0933C27.8207 24.7039 27.9905 24.2926 28.1147 23.8667L29.8925 23.3244C29.9593 23.303 30.018 23.2617 30.0608 23.2062C30.1037 23.1506 30.1287 23.0834 30.1325 23.0133V21.1733C30.1346 21.1089 30.1193 21.0451 30.0879 20.9887C30.0566 20.9323 30.0106 20.8855 29.9547 20.8533ZM22.1058 25.0489C21.5182 25.0506 20.9434 24.878 20.454 24.5529C19.9646 24.2277 19.5827 23.7646 19.3566 23.2223C19.1305 22.68 19.0705 22.0828 19.184 21.5063C19.2975 20.9298 19.5796 20.3999 19.9945 19.9838C20.4093 19.5677 20.9383 19.2841 21.5144 19.1688C22.0906 19.0535 22.688 19.1118 23.231 19.3363C23.774 19.5607 24.2382 19.9412 24.5648 20.4296C24.8915 20.9181 25.0658 21.4924 25.0658 22.08C25.0658 22.8659 24.7542 23.6197 24.1994 24.1762C23.6445 24.7327 22.8917 25.0465 22.1058 25.0489Z" fill="#BFBFBF"/>
              </g>
              <defs>
                <clipPath id="clip0_908_2620">
                  <rect width="32" height="32" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <a routerLink="/list-admin">List Admin</a>
          </li>
        </ul>
      </div>
    
      <div class="content">
        <h2>List Nasabah</h2>
        <div class="sub-header">
          <div>
            <a routerLink="/dashboard">Dashboard</a> <span class="space-arrow"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M6 11.9193V4.4713C6.00003 4.33947 6.03914 4.2106 6.1124 4.101C6.18565 3.99139 6.28976 3.90596 6.41156 3.85552C6.53336 3.80507 6.66738 3.79187 6.79669 3.81758C6.92599 3.84329 7.04476 3.90676 7.138 3.99997L10.862 7.72397C10.987 7.84899 11.0572 8.01853 11.0572 8.1953C11.0572 8.37208 10.987 8.54162 10.862 8.66664L7.138 12.3906C7.04476 12.4838 6.92599 12.5473 6.79669 12.573C6.66738 12.5987 6.53336 12.5855 6.41156 12.5351C6.28976 12.4846 6.18565 12.3992 6.1124 12.2896C6.03914 12.18 6.00003 12.0511 6 11.9193Z" fill="#C2C6CE"/>
            </svg></span>List Nasabah
          </div>
          <div class="export">
            <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
            <span (click)="exportToExcel()">Export</span>
          </div>
        </div>
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="nomor">
                <th mat-header-cell *matHeaderCellDef> No </th>
                <td mat-cell *matCellDef="let i = index">{{ calculateSerialNumber(i) }}</td>
            </ng-container>

            <ng-container matColumnDef="nama">
              <th mat-header-cell *matHeaderCellDef> Nama </th>
              <td mat-cell *matCellDef="let element"> {{element.customerName}} </td>
            </ng-container>
          
            <ng-container matColumnDef="rekening">
              <th mat-header-cell *matHeaderCellDef> Nomor Rekening </th>
              <td mat-cell *matCellDef="let element"> {{element.customerAccount}} </td>
            </ng-container>
          
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef> Email </th>
              <td mat-cell *matCellDef="let element"> {{element.customerEmail}} </td>
            </ng-container>
          
            <ng-container matColumnDef="telp">
              <th mat-header-cell *matHeaderCellDef> Nomor Telepon </th>
              <td mat-cell *matCellDef="let element"> {{element.customerPhone}} </td>
            </ng-container>

            <ng-container matColumnDef="debit">
                <th mat-header-cell *matHeaderCellDef> Jenis Kartu Debit </th>
                <td mat-cell *matCellDef="let element"> {{element.customerCard.cardName}} </td>
              </ng-container>

              <ng-container matColumnDef="ibu">
                <th mat-header-cell *matHeaderCellDef> Nama Gadis Ibu Kandung </th>
                <td mat-cell *matCellDef="let element"> {{element.customerMotherName}} </td>
              </ng-container>

              <ng-container matColumnDef="pembuatan">
                <th mat-header-cell *matHeaderCellDef> Created at </th>
                <td mat-cell *matCellDef="let element"> {{element.createdAt}} </td>
              </ng-container>

              <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                  <button class="edit-nasabah" (click)="editCustomer(element.customerId)">
                  <!-- <button class="edit-nasabah" (click)="openPopUp()"> -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20" fill="none">
                      <path d="M14.4768 1.004C14.6438 1.019 14.7168 1.223 14.5968 1.342L6.27682 9.662C6.18283 9.75605 6.11553 9.87339 6.08182 10.002L5.08182 13.832C5.04881 13.9586 5.04948 14.0916 5.08375 14.2178C5.11803 14.344 5.18472 14.4591 5.27721 14.5516C5.36971 14.6441 5.48478 14.7108 5.61101 14.7451C5.73725 14.7793 5.87025 14.78 5.99682 14.747L9.82582 13.747C9.95452 13.713 10.0719 13.6453 10.1658 13.551L18.6038 5.113C18.6302 5.0859 18.6638 5.06693 18.7007 5.05833C18.7375 5.04974 18.7761 5.05188 18.8117 5.06451C18.8474 5.07713 18.8787 5.09971 18.9019 5.12957C18.9252 5.15943 18.9394 5.19532 18.9428 5.233C19.2939 8.58263 19.2738 11.9608 18.8828 15.306C18.6598 17.211 17.1288 18.706 15.2308 18.919C11.7545 19.3044 8.24617 19.3044 4.76982 18.919C2.87082 18.706 1.33982 17.211 1.11682 15.306C0.704549 11.781 0.704549 8.21999 1.11682 4.695C1.33982 2.789 2.87082 1.294 4.76982 1.082C7.99434 0.724657 11.247 0.698521 14.4768 1.004Z" fill="#F2C94C"/>
                    </svg>
                  </button>
                </td>
              </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayColumn"></tr>
            <tr mat-row *matRowDef="let row; columns: displayColumn;"></tr>
          </table>

          <mat-card-footer>
            <mat-paginator [length]="totalItems" [pageSize]="15" [pageSizeOptions]="[5, 15, 30, 50, 100]" showFirstLastButtons></mat-paginator>
          </mat-card-footer>
      </div>
    </div>
</div>